@using Microsoft.AspNetCore.Components.Web
@using CostumeTest.Models
@using CostumeTest.Services
@inject JsonFileProductService ProductService



    <div style="background-color: #ffffff;   width: 65%; height: 37%;  margin-left: 18%; margin-top: 62px; padding: 1% 4% 7% 1%;">
        <h1>Tafel kiezen</h1>
        <div class="card-group" style=" background-image: url('images/tafel-van-zes.png');  width:500px; height:450px; ">

            <div style=" margin-left:21%; margin-top: 7%;">
                @for (i = 1; i <= 3; i++)
                {
                    <button style=" border:none ;background-color:dimgray ;width: 47px;
    height: 57px; margin-left: 10px;   margin-right: 33px; " data-toggle="modal" data-target="#productModal" class="btn btn-primary">
                        @TableNumber
                    </button>
                    TableNumber++;
                }
            </div>

            <div style="margin-top: 7%;">
                <button style=" border:none ;background-color:dimgray ; width: 47px; height: 87px; margin-left: 27px;
    margin-right: 40px; " data-toggle="modal" data-target="#productModal" class="btn btn-primary">
                    4
                </button>
            </div>

            <div style="padding-left: 50%;height: 7%;">
                <button style=" border:none ;background-color:dimgray ;width: 30px; height: 35px; margin-right:48px;" data-toggle="modal" data-target="#productModal" class="btn btn-primary">6</button>
                <button style=" border:none ;background-color:dimgray ;width: 30px; height: 35px; " data-toggle="modal" data-target="#productModal" class="btn btn-primary">5</button>
            </div>

            <div style="      width: 27%; margin-left: 1%;margin-bottom: 24%;  margin-top: 6%;">
                <button style=" border:none ;background-color:dimgray ;width: 30px; height: 35px; margin-left: 33px; margin-right: 33px;  margin-top: 20%;" data-toggle="modal" data-target="#productModal" class="btn btn-primary">
                    8
                </button>
                <button style=" border:none ;background-color:dimgray ;width: 30px; height: 35px; margin-left: 33px; margin-right: 33px;      margin-top: 45%;
" data-toggle="modal" data-target="#productModal" class="btn btn-primary">
                    10
                </button>
                <button style=" border:none ;background-color:dimgray ;width: 30px; height: 35px;  margin-left: 50px; margin-right: 33px;   margin-top: 41%;" data-toggle="modal" data-target="#productModal" class="btn btn-primary">
                    11
                </button>
            </div>

            <div style="  width: 19%; margin-left: 1%;   ">
                <button style=" border:none ;background-color:dimgray ;width: 30px; height: 35px;  margin-left: 24px; margin-right: 6px;      margin-top: 43%;" data-toggle="modal" data-target="#productModal" class="btn btn-primary">
                    7
                </button>
                <button style=" border:none ;background-color:dimgray ;width: 30px; height: 35px;  margin-left: 23px;  margin-right: 33px;  margin-top: 65%;
" data-toggle="modal" data-target="#productModal" class="btn btn-primary">
                    9
                </button>

            </div>

        </div>
        <button type="submit" class="btn btn-primary" style="float:left">
            <a href="/Daypart">Terug</a>
        </button>

        <button type="submit" class="btn btn-primary" style="float:right">
            <a href="/Overzicht">Volgende</a>
        </button>
    </div>
    @code
{

        Product selectedProduct;
        string selectedProductId;
        int currentRating = 0;
        public int TableNumber = 1;
        public int i;

        void SubmitRating(int rating, string productId)
        {
            selectedProductId = productId;
            selectedProduct = ProductService.GetProducts().First(x => x.Id == productId);
            System.Console.WriteLine($"Rating received for{selectedProduct.Id}: {rating}");

            ProductService.AddRating(selectedProductId, rating);

        }

    }
